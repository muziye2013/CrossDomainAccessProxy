<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    <title>测试跨域访问</title>
    <script>
        function testCor(){
            var testUrl="http://172.17.0.130/ArcGIS/rest/services/%E5%AD%A3%E5%BA%A6%E5%8D%AB%E7%89%87%E6%89%A7%E6%B3%95%E7%9B%91%E6%B5%8B%E5%9B%BE%E6%96%91/MapServer/7/query?text=&geometry=&geometryType=esriGeometryPoint&inSR=&spatialRel=esriSpatialRelIntersects&relationParam=&objectIds=&where=nf%3D2017+and+JD%3D2+and+PC%3D1+and+JCBH%3D3+and+xzqdm%3D440106&time=&returnIdsOnly=false&returnGeometry=true&maxAllowableOffset=&outSR=&outFields=&f=pjson";
            //var testUrlHead="http://localhost/testcor/DotNet/proxy.ashx?";            
            var testUrlHead="http://localhost:8080/Java/proxy.jsp?";            
            $.get(testUrl,function(data){
                console.log("正常访问："+data);
            });
            testUrl=testUrlHead+testUrl;
            $.get(testUrl,function(data){
                console.log("跨域访问："+data);
            });
        }
    </script>
</head>

<body>
    <h1>测试跨域访问</h1>
    <input type="button" title="测试跨域访问" onclick="testCor()" name="测试跨域访问" value="测试跨域访问">
</body>
</html>